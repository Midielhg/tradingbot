<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Trading Bot Dashboard</title>
    <style>
        /* Add some basic styling */
        body { font-family: Arial, sans-serif; margin: 20px; }
        .button { margin: 5px; padding: 10px; cursor: pointer; }
        #status { margin-top: 10px; }
    </style>
</head>
<body>

<h1>Trading Bot Dashboard</h1>

<div>
    <button class="button" id="start-btn">Start Bot</button>
    <button class="button" id="stop-btn">Stop Bot</button>
</div>

<div id="status">
    <h2>Bot Status: <span id="bot-status">Stopped</span></h2>
</div>

<script>
    // Start bot
    document.getElementById('start-btn').addEventListener('click', function () {
        fetch('/start_bot', { method: 'POST' })
            .then(response => response.json())
            .then(data => {
                document.getElementById('bot-status').innerText = 'Running';
                console.log(data);
            });
    });

    // Stop bot
    document.getElementById('stop-btn').addEventListener('click', function () {
        fetch('/stop_bot', { method: 'POST' })
            .then(response => response.json())
            .then(data => {
                document.getElementById('bot-status').innerText = 'Stopped';
                console.log(data);
            });
    });

    // Periodic bot status check
    setInterval(function () {
        fetch('/status')
            .then(response => response.json())
            .then(data => {
                document.getElementById('bot-status').innerText = data.bot_running ? 'Running' : 'Stopped';
            });
    }, 5000);
</script>

</body>
</html>
